function e404(){var o="Sexgrupos: está pagina não existe",e=location.host+location.pathname,n=`Grupo de putaria do ${group.platform} número ${group.id}`,t=group.photo;seo.title(o),seo.description(n),seo.canonical(e),seo.og([{name:"title",content:o},{name:"description",content:n},{name:"image",content:t},{name:"url",content:e}])}function Callback(){var callbaks=$("[callback]").get();for(let i=0;i<callbaks.length;i++){var callback=callbaks[i];eval(callback.attr("callback"))}}function setByName(t,e){$(`input[name="${t}"]`).value(e)}function Capture(t){this.objects=document.querySelectorAll(t),this.iteract=this.objects.length}function $(t){return new Capture(t)}Object.prototype.attr=function(t,e=""){var r="";return e.length?this.setAttribute(t,e):r=this.getAttribute(t),r},Object.prototype.html=function(t){if(!t)return this.innerHTML;this.innerHTML=t},Object.prototype.addClass=function(t){this.classList.add(t)},Object.prototype.removeClass=function(t){this.classList.remove(t)},Capture.prototype.html=function(t){if("clean"==t)for(let t=0;t<this.iteract;t++)this.objects[t].innerHTML="";else{if(!t)return this.objects[0].innerHTML;for(let e=0;e<this.iteract;e++)this.objects[e].innerHTML=t}},Capture.prototype.text=function(t){if(!t)return this.objects[0].textContent;for(let e=0;e<this.iteract;e++)this.objects[e].textContent=t},Capture.prototype.attr=function(t,e=""){var r="";if(e.length)for(let r=0;r<this.iteract;r++)this.objects[r].attr(t,e);else r=this.objects[0].attr(t);return r},Capture.prototype.addClass=function(t){for(let e=0;e<this.iteract;e++)this.objects[e].classList.add(t)},Capture.prototype.removeClass=function(t){for(let e=0;e<this.iteract;e++)this.objects[e].classList.remove(t)},Capture.prototype.hidden=function(){for(let t=0;t<this.iteract;t++)this.objects[t].classList.add("ocult")},Capture.prototype.show=function(){for(let t=0;t<this.iteract;t++)this.objects[t].classList.remove("ocult")},Capture.prototype.on=function(t,e){for(let r=0;r<this.iteract;r++)this.objects[r].addEventListener(t,e)},Capture.prototype.updateListener=function(t,e){for(let r=0;r<this.iteract;r++)this.objects[r].removeEventListener(t,e);for(let r=0;r<this.iteract;r++)this.objects[r].addEventListener(t,e)},Capture.prototype.get=function(){return this.objects},Capture.prototype.value=function(t){if(!t)return this.objects[0].value;this.objects[0].value=t},Capture.prototype.append=function(t){var e=this.objects[0];e.innerHTML=t+e.innerHTML};var PRODUCTION=!compare(location.hostname,"127.0.0.1");function GroupShow(e){var o=[];for(let r=e.length-1;r>-1;r--){var t=e[r],a=$("#CREATE_STAVE").html();a=(a=(a=(a=a.replace(/GROUP_IMAGE/g,t.photo)).replace(/GROUP_TILE/g,t.title)).replace(/GROUP_ABOUT/g,t.about)).replace(/GROUP_TARGET/g,t.target),o.push(a)}o.length?$("#SHOW_STAVES").html(o.join("")):$("#SHOW_STAVES").html('<div class="text-center"><span>Desculpe! Nada foi encontrado.</span></div>')}async function GroupsGet(){var e=new Request,{groups:o}=await e.post("/group/get");GroupShow(o)}async function GroupSearch(){setByName("q",location.search.replace(/\?q=/g,""));var e=new Request,o=await e.post("/group/search");GroupShow(o),setseo({title:`Sexgrupos: Pesquisa ${location.search.replace(/\?q=/g,"")}`,canonical:location.host+location.pathname,description:`${o.length} resultados para ${location.search.replace(/\?q=/g,"")}`,image:"https://sexgrupos.com/logo.png"})}async function Group(){setByName("target",location.pathname);var e=new Request,{group:o,groups:t}=await e.post("/group/unit");if(!o)return redirect("https://sexgrupos.com/404");var a=$("#CREATE_STAVE .stave").html();a=(a=(a=(a=a.replace(/GROUP_IMAGE/g,o.photo)).replace(/GROUP_TILE/g,o.title)).replace(/GROUP_ABOUT/g,o.about)).replace(/GROUP_LINK/g,o.link),setseo({title:`Sexgrupos: Grupo de putaria do ${o.link.includes("t.me")?"Telegram":"Whatsapp"} número ${o.id}`,canonical:location.host+location.pathname,description:o.about,image:o.photo}),$("#group").html(a),$("#GroupLoading").hidden(),t.length&&($("#recommended").show(),GroupShow(t))}async function Kernel(){var e=$("#root");sessionStorage.getItem("welcome")||(sessionStorage.setItem("welcome","1"),$("#welcome").show()),PRODUCTION&&(location.href.includes("http://")||location.href.includes("https://www."))&&redirect("https://sexgrupos.com"+location.pathname);var t=location.pathname.split("/")[1],{view:o}=await views.get(t.length?t:"home");if(!o)return redirect("/404");e.html(o),$("#main").show(),$("#welcome").hidden(),Callback()}addEventListener("load",Kernel);function Request(){}function _REQUESTS(){$(".SEND_REQUEST").on("click",SEND_REQUEST)}async function SEND_REQUEST(){var t=this.attr("data-payload"),{url:e,label:a,forward_url:r}=toJson(t);a?this.addClass("wait"):ModalOpen("#AwaitRequest");var o=new Request,n=await o.post(e);if(n.error)return a?this.removeClass("wait"):ModalClose("#AwaitRequest"),void openError(n.error);redirect(r)}Request.prototype.post=async function(t,e=new FormData){var a=$("input").get();for(let t=0;t<a.length;t++){var r=a[t];r.files?r.files.length&&e.append(r.attr("name"),r.files[0]):e.append(r.attr("name"),r.value)}var o=await fetch(t,{method:"POST",body:e});return await o.json()};function SEO(){}function setseo(t){var e=t.title,n=t.canonical,o=t.description,a=t.image;seo.title(e),seo.description(o),seo.canonical(n),seo.og([{name:"title",content:e},{name:"description",content:o},{name:"image",content:a},{name:"url",content:n}])}SEO.prototype.create=function(t){return document.createElement(t)},SEO.prototype.apply=function(t){document.head.appendChild(t)},SEO.prototype.description=function(t){var e=this.create("meta");e.attr("name","description"),e.attr("content",t),this.apply(e)},SEO.prototype.title=function(t){var e=this.create("title");e.textContent=t,this.apply(e)},SEO.prototype.canonical=function(t){var e=this.create("link");e.attr("rel","canonical"),e.attr("href",t),this.apply(e)},SEO.prototype.og=function(t){for(let o=0;o<t.length;o++){var e=t[o],n=this.create("link");n.attr("property","og:"+e.name),n.attr("content",e.content),this.apply(n)}};var seo=new SEO;function compare(n,r){return n==r}function redirect(n){location.href=n}function Views(){this.routers={home:"/view/home","politica-de-privacidade":"/view/privacy","termos-de-uso":"/view/terms","envia-grupo":"/view/send",search:"/view/search",grupo:"/view/group",contato:"/view/contact",sobre:"/view/about",denuncie:"/view/report",404:"/view/404"}}Views.prototype.get=async function(e){if(!this.routers[e])return{view:null};var i=new Request,r=await i.post(this.routers[e]);return r.title&&setseo(r),r.error&&redirect("/"),r};var views=new Views;
